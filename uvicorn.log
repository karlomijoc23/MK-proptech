INFO:     Will watch for changes in these directories: ['/Users/gs/Documents/MK-proptech/backend']
INFO:     Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [53577] using WatchFiles
INFO:     Started server process [53583]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
2025-10-05 20:40:10,704 - server - ERROR - Greška pri analizi PDF-a: can't concat _io.BytesIO to bytes
Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/server.py", line 5028, in parse_pdf_contract
    parser = MultipartParser(BytesIO(raw_body), boundary)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/python_multipart/multipart.py", line 998, in __init__
    self.boundary = b"\r\n--" + boundary
TypeError: can't concat _io.BytesIO to bytes
INFO:     127.0.0.1:60518 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53583]
INFO:     Started server process [53724]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:60777 - "OPTIONS /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
2025-10-05 20:47:17,682 - server - ERROR - Greška pri AI analizi PDF-a (OpenAI), koristi se fallback: create() got an unexpected keyword argument 'response_format'
Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/server.py", line 5046, in parse_pdf_contract
    parsed_data = await asyncio.to_thread(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/gs/Documents/MK-proptech/backend/server.py", line 4961, in _extract_with_openai
    response = client.responses.create(
TypeError: create() got an unexpected keyword argument 'response_format'
INFO:     127.0.0.1:60777 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
      |     await self.simple_response(scope, receive, send, request_headers=headers)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
INFO:     127.0.0.1:60849 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60851 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60854 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60856 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60858 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60859 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:60849 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60851 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60854 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60856 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60858 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60859 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:60849 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60851 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60854 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60856 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60858 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60859 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:60849 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60851 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60854 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60856 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60858 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60859 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
2025-10-05 20:50:20,229 - server - ERROR - Greška pri AI analizi PDF-a (OpenAI), koristi se fallback: create() got an unexpected keyword argument 'response_format'
Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/server.py", line 5046, in parse_pdf_contract
    parsed_data = await asyncio.to_thread(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/gs/Documents/MK-proptech/backend/server.py", line 4961, in _extract_with_openai
    response = client.responses.create(
TypeError: create() got an unexpected keyword argument 'response_format'
INFO:     127.0.0.1:60862 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
      |     await self.simple_response(scope, receive, send, request_headers=headers)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
INFO:     127.0.0.1:60864 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60864 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60866 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60866 - "POST /api/nekretnine HTTP/1.1" 201 Created
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
      |     await self.simple_response(scope, receive, send, request_headers=headers)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
INFO:     127.0.0.1:60868 - "POST /api/nekretnine HTTP/1.1" 201 Created
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
      |     await self.simple_response(scope, receive, send, request_headers=headers)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
INFO:     127.0.0.1:60876 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60878 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60880 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60882 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60884 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60885 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:60876 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60878 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60880 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60882 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60884 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60885 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:60876 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60876 - "GET /api/nekretnine HTTP/1.1" 200 OK
2025-10-05 20:53:34,077 - server - ERROR - Greška pri AI analizi PDF-a (OpenAI), koristi se fallback: create() got an unexpected keyword argument 'response_format'
Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/server.py", line 5046, in parse_pdf_contract
    parsed_data = await asyncio.to_thread(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/gs/Documents/MK-proptech/backend/server.py", line 4961, in _extract_with_openai
    response = client.responses.create(
TypeError: create() got an unexpected keyword argument 'response_format'
INFO:     127.0.0.1:60927 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
      |     await self.simple_response(scope, receive, send, request_headers=headers)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
INFO:     127.0.0.1:60930 - "POST /api/dokumenti HTTP/1.1" 201 Created
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
      |     await self.simple_response(scope, receive, send, request_headers=headers)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
INFO:     127.0.0.1:60936 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60939 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60941 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60943 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60945 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60946 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:60936 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60939 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60941 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60943 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60945 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60946 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:60946 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60945 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60946 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60943 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60945 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60941 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:60939 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60936 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60946 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60943 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60945 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60941 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [53724]
INFO:     Started server process [54130]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:60959 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60961 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60962 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60964 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60966 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60967 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:60959 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60961 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60962 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60964 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60966 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60967 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:60967 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60966 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60964 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60962 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60961 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60959 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:60967 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:60966 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60964 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:60962 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:60961 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:60959 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [54130]
INFO:     Started server process [54161]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [54161]
INFO:     Started server process [54214]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:60983 - "OPTIONS /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:60984 - "OPTIONS /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:60986 - "OPTIONS /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60988 - "OPTIONS /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:60990 - "OPTIONS /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:60991 - "OPTIONS /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60983 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:60984 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:60986 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:60991 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:60990 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:60988 - "GET /api/podsjetnici HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [54214]
INFO:     Started server process [54259]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [54259]
INFO:     Started server process [54272]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [54272]
INFO:     Started server process [54284]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:61040 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61040 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61040 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61040 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61040 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:61042 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:61044 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61040 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:61046 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:61042 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61042 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61042 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61050 - "OPTIONS /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
2025-10-05 20:59:22,739 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 20:59:22,742 - server - ERROR - Greška pri AI analizi PDF-a (OpenAI), koristi se fallback: Error code: 400 - {'error': {'message': "Invalid value: 'text'. Supported values are: 'input_text', 'input_image', 'output_text', 'refusal', 'input_file', 'computer_screenshot', and 'summary_text'.", 'type': 'invalid_request_error', 'param': 'input[0].content[0].type', 'code': 'invalid_value'}}
Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/server.py", line 5143, in parse_pdf_contract
    parsed_data = await asyncio.to_thread(
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/concurrent/futures/thread.py", line 52, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/Users/gs/Documents/MK-proptech/backend/server.py", line 5027, in _extract_with_openai
    response = client.responses.create(
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/openai/resources/responses/responses.py", line 795, in create
    return self._post(
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/openai/_base_client.py", line 1259, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/openai/_base_client.py", line 1047, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Error code: 400 - {'error': {'message': "Invalid value: 'text'. Supported values are: 'input_text', 'input_image', 'output_text', 'refusal', 'input_file', 'computer_screenshot', and 'summary_text'.", 'type': 'invalid_request_error', 'param': 'input[0].content[0].type', 'code': 'invalid_value'}}
INFO:     127.0.0.1:61050 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
      |     await self.simple_response(scope, receive, send, request_headers=headers)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [54284]
INFO:     Started server process [54508]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:61065 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61065 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61065 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:61070 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:61071 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61065 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:61073 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:61075 - "GET /api/podsjetnici HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [54508]
INFO:     Started server process [54522]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:61164 - "OPTIONS /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:61165 - "OPTIONS /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:61168 - "OPTIONS /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61170 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61172 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61173 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61164 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61165 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61168 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61170 - "OPTIONS /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:61172 - "OPTIONS /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:61173 - "OPTIONS /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61164 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61165 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61168 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61170 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61172 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61173 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61164 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:61165 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:61168 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61170 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61172 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61173 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61164 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61165 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61168 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61170 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:61172 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:61173 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61164 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61165 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61168 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61170 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61172 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61173 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61176 - "OPTIONS /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
2025-10-05 21:09:51,761 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:10:06,986 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61176 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
      |     await self.simple_response(scope, receive, send, request_headers=headers)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
2025-10-05 21:13:25,255 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:13:34,473 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61237 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
      |     await self.simple_response(scope, receive, send, request_headers=headers)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
INFO:     127.0.0.1:61242 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:61243 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:61244 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61242 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:61246 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:61248 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61248 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61248 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61248 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61248 - "GET /api/nekretnine HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [54522]
INFO:     Started server process [55167]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
2025-10-05 21:16:15,034 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:16:28,660 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61265 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
      |     await self.simple_response(scope, receive, send, request_headers=headers)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
2025-10-05 21:16:44,720 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:16:56,516 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61279 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
2025-10-05 21:17:00,086 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:17:13,810 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61283 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
2025-10-05 21:17:18,682 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:17:35,929 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61287 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
2025-10-05 21:17:44,274 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:17:56,409 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61290 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [55167]
INFO:     Started server process [55362]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
2025-10-05 21:18:46,585 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:19:04,812 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61295 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
2025-10-05 21:19:13,209 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for connections to close. (CTRL+C to force quit)
2025-10-05 21:19:31,255 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61298 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
      |     await self.simple_response(scope, receive, send, request_headers=headers)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [55362]
INFO:     Started server process [55421]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
2025-10-05 21:19:33,480 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:19:47,819 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61305 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
  + Exception Group Traceback (most recent call last):
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 87, in collapse_excgroups
  |     yield
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
  |     response_sent.set()
  |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
  |     raise BaseExceptionGroup(
  | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 192, in __call__
    |     await response(scope, wrapped_receive, send)
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    |     await wrap(partial(self.listen_for_disconnect, receive))
    |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 781, in __aexit__
    |     raise BaseExceptionGroup(
    | exceptiongroup.ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
      |     result = await app(  # type: ignore[func-returns-value]
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
      |     return await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
      |     await super().__call__(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
      |     await self.middleware_stack(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
      |     await self.app(scope, receive, _send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
      |     await self.app(scope, receive, send)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
      |     response_sent.set()
      |   File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
      |     self.gen.throw(type, value, traceback)
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
      |     raise exc
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
      |     await wrap(partial(self.listen_for_disconnect, receive))
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
      |     await func()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
      |     message = await receive()
      |   File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
      |     raise RuntimeError(f"Unexpected message received: {msg['type']}")
      | RuntimeError: Unexpected message received: http.request
      +------------------------------------

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/h11_impl.py", line 408, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 193, in __call__
    response_sent.set()
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/contextlib.py", line 135, in __exit__
    self.gen.throw(type, value, traceback)
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/_utils.py", line 93, in collapse_excgroups
    raise exc
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 265, in __call__
    await wrap(partial(self.listen_for_disconnect, receive))
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 261, in wrap
    await func()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/responses.py", line 238, in listen_for_disconnect
    message = await receive()
  File "/Users/gs/Documents/MK-proptech/backend/.venv/lib/python3.9/site-packages/starlette/middleware/base.py", line 58, in wrapped_receive
    raise RuntimeError(f"Unexpected message received: {msg['type']}")
RuntimeError: Unexpected message received: http.request
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [55421]
INFO:     Started server process [55474]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
2025-10-05 21:20:22,227 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:20:36,766 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61318 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
2025-10-05 21:20:55,247 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:21:10,271 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61321 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
INFO:     127.0.0.1:61324 - "OPTIONS /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
2025-10-05 21:21:39,766 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:21:53,580 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61324 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
2025-10-05 21:22:22,462 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:22:33,517 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61343 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
INFO:     127.0.0.1:61349 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61349 - "POST /api/nekretnine HTTP/1.1" 201 Created
INFO:     127.0.0.1:61349 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61351 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61354 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61356 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61358 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61349 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61359 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61351 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61354 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61356 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61358 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61358 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61356 - "POST /api/zakupnici HTTP/1.1" 201 Created
INFO:     127.0.0.1:61356 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61358 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61354 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61351 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61359 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61349 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61349 - "POST /api/nekretnine HTTP/1.1" 201 Created
INFO:     127.0.0.1:61349 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61359 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61351 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61354 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61358 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61356 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61356 - "POST /api/nekretnine HTTP/1.1" 201 Created
INFO:     127.0.0.1:61356 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61358 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61354 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61351 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61359 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61349 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61349 - "POST /api/zakupnici HTTP/1.1" 201 Created
INFO:     127.0.0.1:61349 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61359 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61351 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61354 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61358 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61356 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61356 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61358 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61354 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61351 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61359 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61349 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61356 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61358 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61354 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61351 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61359 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61349 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61349 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61349 - "GET /api/nekretnine HTTP/1.1" 200 OK
2025-10-05 21:24:28,999 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-05 21:24:43,164 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:61374 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
INFO:     127.0.0.1:61374 - "POST /api/zakupnici HTTP/1.1" 201 Created
INFO:     127.0.0.1:61374 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61379 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61380 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61381 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61384 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61385 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61438 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61441 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61442 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61445 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61447 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61448 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61438 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61441 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61442 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61445 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61447 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61448 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61457 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61459 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61461 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61462 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61464 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61465 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61457 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61459 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61461 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61462 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61464 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61465 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61473 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61475 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61477 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61479 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61481 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61482 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61473 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61475 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61477 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61479 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61481 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61482 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61490 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61492 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61494 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61496 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61498 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61499 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61490 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61492 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61494 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61496 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61498 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61499 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61490 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61492 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61494 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61496 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61498 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61499 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61490 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61492 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61494 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61496 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61498 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61499 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61507 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61511 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61512 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61513 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61515 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61517 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61507 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61511 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61512 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61513 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61515 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61517 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61525 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61529 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61531 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61532 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61534 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61535 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61525 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61529 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61531 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61532 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61534 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61535 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61542 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61545 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61546 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61549 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61551 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61552 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61542 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61545 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61546 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61549 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61551 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61552 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61559 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61561 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61563 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61565 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61567 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61568 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61559 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61561 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61563 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61565 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61567 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61568 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61577 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61579 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61581 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61583 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61585 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61586 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61577 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61579 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61581 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61583 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61585 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61586 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61594 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61596 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61598 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61601 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61603 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61604 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61594 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61596 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61598 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61601 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61603 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61604 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61610 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61612 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61615 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61617 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61619 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61620 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61610 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61612 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61615 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61617 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61619 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61620 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61626 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61627 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61628 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61630 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61633 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61634 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61626 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61627 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61628 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61630 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61633 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61634 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61639 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61641 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61642 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61645 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61646 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61648 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61639 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61641 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61642 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61645 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61646 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61648 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61655 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61657 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61659 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61661 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61663 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61664 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61655 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61657 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61659 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61661 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61663 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61664 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61679 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61680 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61682 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61683 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61686 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61687 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61679 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61680 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61682 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61683 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61686 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61687 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61687 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61686 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61683 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61682 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61680 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61679 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61687 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61686 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61683 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61682 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61680 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61679 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61708 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61709 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61712 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61714 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61716 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61717 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61708 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61709 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61712 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61714 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61716 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61717 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61724 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61726 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61728 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61730 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61732 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61733 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61724 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61726 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61728 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61730 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61732 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61733 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61741 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61744 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61746 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61748 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61749 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61751 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61741 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61744 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61746 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61748 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61749 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61751 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61762 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61764 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61766 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61768 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61770 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61771 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61762 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61764 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61766 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61768 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61770 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61771 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61771 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61770 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61768 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61766 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61764 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61762 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61771 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61770 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61768 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61766 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61764 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61762 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61780 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61782 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61783 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61786 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61788 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61789 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61780 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61782 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61783 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61786 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61788 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61789 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61801 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61803 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61804 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61806 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61807 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61809 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61801 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61803 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61804 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61806 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61807 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61809 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61825 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61828 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61830 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61831 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61834 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61835 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61825 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61828 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61830 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61831 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61834 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61835 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61843 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61846 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61847 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61850 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61851 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61853 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61843 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61846 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61847 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61850 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61851 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61853 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61867 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61871 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61867 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61869 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61871 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61873 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61875 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61876 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61887 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61889 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61891 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61893 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61895 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61896 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61887 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61889 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61891 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61893 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61895 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61896 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61887 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61889 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61891 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61893 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61895 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61896 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61887 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61889 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61891 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61893 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61895 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61896 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61904 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61908 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61909 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61911 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61913 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61914 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:61904 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:61908 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:61909 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:61911 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:61913 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:61914 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64290 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64292 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64295 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64297 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64299 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64300 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64290 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64292 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64295 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64297 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64299 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64300 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64290 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64292 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64295 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64297 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64299 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64300 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64290 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64292 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64295 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64297 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64299 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64300 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64323 - "OPTIONS /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
2025-10-06 08:51:42,833 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-06 08:51:53,393 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:64323 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
2025-10-06 08:52:07,607 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-06 08:52:27,831 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:64326 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
INFO:     127.0.0.1:64326 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64326 - "POST /api/zakupnici HTTP/1.1" 201 Created
INFO:     127.0.0.1:64326 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64329 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64331 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64334 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64336 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64337 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
2025-10-06 08:52:42,635 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-06 08:53:09,220 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:64342 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
INFO:     127.0.0.1:64361 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64361 - "POST /api/nekretnine HTTP/1.1" 201 Created
INFO:     127.0.0.1:64361 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64363 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64367 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64368 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64370 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64371 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64380 - "OPTIONS /api/nekretnine/06e677db-aa5c-4666-b8e2-85441816020a/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64380 - "POST /api/nekretnine/06e677db-aa5c-4666-b8e2-85441816020a/units HTTP/1.1" 201 Created
INFO:     127.0.0.1:64380 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64382 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64385 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64387 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64389 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64390 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64404 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64404 - "POST /api/ugovori HTTP/1.1" 201 Created
INFO:     127.0.0.1:64404 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64406 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64409 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64411 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64413 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64414 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64420 - "POST /api/dokumenti HTTP/1.1" 201 Created
INFO:     127.0.0.1:64420 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64423 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64424 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64427 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64429 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64430 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64440 - "GET /uploads/5a625e6d-5c42-4d72-b395-df2f05f66ed2_ADRIA%20LJEV%20MHK.pdf HTTP/1.1" 200 OK
INFO:     127.0.0.1:64447 - "OPTIONS /api/ugovori/fa1b2239-5d82-4fc1-8dbd-1dccb91dd5e8/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64447 - "PUT /api/ugovori/fa1b2239-5d82-4fc1-8dbd-1dccb91dd5e8/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64447 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64449 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64452 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64454 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64456 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64457 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64461 - "PUT /api/ugovori/fa1b2239-5d82-4fc1-8dbd-1dccb91dd5e8/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:64461 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64465 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64466 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64468 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64470 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64471 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64481 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64481 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64486 - "OPTIONS /api/audit/logs?limit=25&entity_type=property&entity_id=06e677db-aa5c-4666-b8e2-85441816020a HTTP/1.1" 200 OK
INFO:     127.0.0.1:64486 - "GET /api/audit/logs?limit=25&entity_type=property&entity_id=06e677db-aa5c-4666-b8e2-85441816020a HTTP/1.1" 200 OK
INFO:     127.0.0.1:64501 - "GET /api/audit/logs?limit=25&entity_type=property&entity_id=06e677db-aa5c-4666-b8e2-85441816020a HTTP/1.1" 200 OK
INFO:     127.0.0.1:64533 - "OPTIONS /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64535 - "OPTIONS /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64537 - "OPTIONS /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64538 - "OPTIONS /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64541 - "OPTIONS /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64542 - "OPTIONS /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64533 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64535 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64537 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64542 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64533 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64535 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64548 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64548 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64555 - "OPTIONS /api/nekretnine/06e677db-aa5c-4666-b8e2-85441816020a HTTP/1.1" 200 OK
INFO:     127.0.0.1:64555 - "PUT /api/nekretnine/06e677db-aa5c-4666-b8e2-85441816020a HTTP/1.1" 200 OK
INFO:     127.0.0.1:64555 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64555 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64557 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64560 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64562 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64564 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64565 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64570 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64571 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64572 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64570 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64572 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64571 - "GET /api/podsjetnici HTTP/1.1" 200 OK
2025-10-06 08:59:38,098 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-06 08:59:55,207 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:64597 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
2025-10-06 09:00:08,624 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-06 09:00:38,086 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:64609 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
INFO:     127.0.0.1:64645 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64645 - "POST /api/dokumenti HTTP/1.1" 201 Created
INFO:     127.0.0.1:64645 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64654 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64655 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64648 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64650 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64652 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64645 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64654 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64659 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64659 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64666 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64667 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64669 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64667 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64666 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64671 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64700 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64700 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64711 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64711 - "POST /api/maintenance-tasks HTTP/1.1" 201 Created
INFO:     127.0.0.1:64711 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64717 - "OPTIONS /api/maintenance-tasks/f79cae37-a0dc-4684-a4cc-d7971af380d3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64717 - "PATCH /api/maintenance-tasks/f79cae37-a0dc-4684-a4cc-d7971af380d3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64722 - "PATCH /api/maintenance-tasks/f79cae37-a0dc-4684-a4cc-d7971af380d3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64726 - "PATCH /api/maintenance-tasks/f79cae37-a0dc-4684-a4cc-d7971af380d3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64726 - "PATCH /api/maintenance-tasks/f79cae37-a0dc-4684-a4cc-d7971af380d3 HTTP/1.1" 200 OK
INFO:     127.0.0.1:64732 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64735 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64736 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64732 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64735 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64738 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64764 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64767 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64768 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64758 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64761 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64762 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64764 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64767 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64768 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64758 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64761 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64762 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64764 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64758 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64767 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64768 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64761 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64762 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64764 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64758 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64767 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64768 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64761 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64762 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64792 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64793 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64796 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64800 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64801 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64792 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64793 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64796 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64800 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64801 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64792 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64793 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64796 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64798 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64800 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64801 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64821 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64823 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64825 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64827 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64828 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64830 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64821 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64823 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64828 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64825 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64827 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64830 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64821 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64823 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64828 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64825 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64827 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64830 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64847 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64849 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64851 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64852 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64855 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64856 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64847 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64849 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64851 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:64852 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:64855 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:64856 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64847 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:64849 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:64851 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:64852 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:64855 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:64856 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65127 - "OPTIONS /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:65129 - "OPTIONS /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:65133 - "OPTIONS /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65134 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65136 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65137 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65127 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65129 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65133 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65134 - "OPTIONS /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:65136 - "OPTIONS /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:65137 - "OPTIONS /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65127 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65129 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65133 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65134 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65136 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65137 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65127 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:65129 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:65133 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65134 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65136 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65137 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65127 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65129 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65133 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65134 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:65136 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:65137 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65127 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65129 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65133 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65134 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65136 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65137 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65140 - "OPTIONS /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
2025-10-06 09:29:00,495 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-06 09:29:19,321 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
2025-10-06 09:29:19,361 - server - INFO - AI kreirao novi podprostor Šator 4 za nekretninu 06e677db-aa5c-4666-b8e2-85441816020a
INFO:     127.0.0.1:65140 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
INFO:     127.0.0.1:65140 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65148 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65149 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65151 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65153 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65154 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65154 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65153 - "POST /api/zakupnici HTTP/1.1" 201 Created
INFO:     127.0.0.1:65153 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65154 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65151 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65149 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65148 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65140 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65157 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65157 - "POST /api/ugovori HTTP/1.1" 201 Created
INFO:     127.0.0.1:65157 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65159 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65163 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65165 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65166 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65167 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65179 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:65182 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:65184 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65185 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65188 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65189 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65179 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65182 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65184 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65185 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:65188 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:65189 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65179 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65182 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65184 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65185 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65188 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65189 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65189 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65188 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65188 - "OPTIONS /api/nekretnine/bacfca4a-1578-4b41-be8e-b6086f3d8059 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65189 - "DELETE /api/nekretnine/bacfca4a-1578-4b41-be8e-b6086f3d8059 HTTP/1.1" 200 OK
INFO:     127.0.0.1:65189 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65188 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65193 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65195 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65196 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65197 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65189 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65189 - "OPTIONS /api/nekretnine/c0fb858d-5bf4-473f-83f6-2c885408211d HTTP/1.1" 200 OK
INFO:     127.0.0.1:65197 - "DELETE /api/nekretnine/c0fb858d-5bf4-473f-83f6-2c885408211d HTTP/1.1" 200 OK
INFO:     127.0.0.1:65197 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65189 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65196 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65195 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65193 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65188 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65197 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65207 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65210 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65211 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65214 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65216 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65217 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65207 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65210 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65211 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65214 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65216 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65217 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65207 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65217 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65227 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65229 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65232 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65234 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65236 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65237 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65227 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65229 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65232 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65234 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65236 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65237 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65227 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65227 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65443 - "OPTIONS /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:65445 - "OPTIONS /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:65447 - "OPTIONS /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65449 - "OPTIONS /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:65451 - "OPTIONS /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:65452 - "OPTIONS /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65443 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:65445 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:65447 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65452 - "GET /api/dashboard HTTP/1.1" 200 OK
INFO:     127.0.0.1:65451 - "GET /api/podsjetnici/aktivni HTTP/1.1" 200 OK
INFO:     127.0.0.1:65443 - "GET /api/podsjetnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65454 - "OPTIONS /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
2025-10-06 09:54:13,759 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-06 09:54:28,434 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:65454 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
INFO:     127.0.0.1:65454 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65454 - "POST /api/zakupnici HTTP/1.1" 201 Created
INFO:     127.0.0.1:65454 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65463 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65465 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65466 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:65458 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65454 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65462 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65463 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65465 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65466 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
2025-10-06 09:55:30,766 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 400 Bad Request"
2025-10-06 09:55:47,149 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/responses "HTTP/1.1 200 OK"
INFO:     127.0.0.1:65478 - "POST /api/ai/parse-pdf-contract HTTP/1.1" 200 OK
INFO:     127.0.0.1:65517 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65517 - "POST /api/ugovori HTTP/1.1" 409 Conflict
INFO:     127.0.0.1:65524 - "POST /api/dokumenti HTTP/1.1" 201 Created
INFO:     127.0.0.1:65524 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:65527 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:65529 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:65531 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:65533 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:65534 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:49152 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:49152 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:49154 - "OPTIONS /api/nekretnine/5cec7e95-fbda-416a-b5f0-95c441b2dd85 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49154 - "DELETE /api/nekretnine/5cec7e95-fbda-416a-b5f0-95c441b2dd85 HTTP/1.1" 200 OK
INFO:     127.0.0.1:49154 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:49157 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:49154 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:49161 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:49162 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:49164 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:49165 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [55474]
WARNING:  WatchFiles detected changes in 'server.py'. Reloading...
INFO:     Started server process [78131]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:51514 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:51517 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:51519 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:51520 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:51523 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:51524 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:51514 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:51517 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:51519 - "OPTIONS /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:51520 - "OPTIONS /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:51523 - "OPTIONS /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:51524 - "OPTIONS /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:51514 - "OPTIONS /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:51517 - "OPTIONS /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:51519 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:51520 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:51523 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:51524 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:51514 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:51517 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:51519 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:51520 - "GET /api/zakupnici HTTP/1.1" 200 OK
INFO:     127.0.0.1:51523 - "GET /api/ugovori HTTP/1.1" 200 OK
INFO:     127.0.0.1:51524 - "GET /api/dokumenti HTTP/1.1" 200 OK
INFO:     127.0.0.1:51514 - "GET /api/units HTTP/1.1" 200 OK
INFO:     127.0.0.1:51517 - "GET /api/maintenance-tasks HTTP/1.1" 200 OK
INFO:     127.0.0.1:51519 - "GET /api/nekretnine HTTP/1.1" 200 OK
INFO:     127.0.0.1:51517 - "GET /api/nekretnine HTTP/1.1" 200 OK
